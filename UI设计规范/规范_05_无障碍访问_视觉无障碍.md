# 视觉无障碍

## 概述

视觉无障碍确保视觉障碍用户（包括失明、低视力、色盲用户）能够感知和理解界面内容。本规范涵盖颜色、对比度、文本和视觉设计的无障碍要求。

## 设计原则

- **不仅依赖颜色**：使用多种方式传达信息
- **足够对比度**：确保内容清晰可辨
- **可缩放**：支持文本和界面放大
- **清晰焦点**：焦点状态明显可见

## 颜色对比度

### WCAG 标准

| 级别 | 普通文本 | 大文本 | 图形元素 |
|------|----------|--------|----------|
| AA | 4.5:1 | 3:1 | 3:1 |
| AAA | 7:1 | 4.5:1 | - |

### 文本尺寸定义

| 类型 | 定义 |
|------|------|
| 普通文本 | < 18px 或 < 14px 粗体 |
| 大文本 | ≥ 18px 或 ≥ 14px 粗体 |

### 对比度示例

| 组合 | 对比度 | 合规 |
|------|--------|------|
| 黑色 #000 / 白色 #FFF | 21:1 | ✓ AAA |
| Gray-700 / 白色 | 8.5:1 | ✓ AAA |
| Primary-500 / 白色 | 4.5:1 | ✓ AA |
| Gray-400 / 白色 | 2.5:1 | ✗ 不合规 |

### 检测工具

| 工具 | 用途 |
|------|------|
| WebAIM Contrast Checker | 在线检测 |
| Stark | Figma/Sketch 插件 |
| axe DevTools | 浏览器扩展 |

## 颜色使用

### 不仅依赖颜色

| ❌ 仅用颜色 | ✅ 颜色+其他 |
|-------------|--------------|
| 红色表示错误 | 红色+图标+文字 |
| 绿色表示成功 | 绿色+勾选图标 |
| 链接仅变色 | 链接变色+下划线 |
| 图表仅用颜色 | 颜色+图案+标签 |

### 色盲友好

| 色盲类型 | 影响 | 设计建议 |
|----------|------|----------|
| 红绿色盲 | 红绿难区分 | 避免红绿对比 |
| 蓝黄色盲 | 蓝黄难区分 | 避免蓝黄对比 |
| 全色盲 | 仅见灰度 | 使用明度差异 |

### 安全色彩组合

| 用途 | 推荐组合 |
|------|----------|
| 成功/错误 | 绿色+红色（配合图标） |
| 数据可视化 | 蓝色系+橙色系 |
| 状态区分 | 使用图案或形状 |

## 文本可读性

### 字号要求

| 元素 | 最小字号 | 推荐字号 |
|------|----------|----------|
| 正文 | 14px | 16px |
| 辅助文本 | 12px | 14px |
| 标题 | 18px+ | 根据层级 |

### 行高与间距

| 元素 | 要求 |
|------|------|
| 行高 | ≥ 1.5 倍字号 |
| 段落间距 | ≥ 2 倍字号 |
| 字间距 | ≥ 0.12 倍字号 |
| 词间距 | ≥ 0.16 倍字号 |

### 文本缩放

| 要求 | 说明 |
|------|------|
| 200% 缩放 | 内容不丢失，布局不破坏 |
| 文本间距调整 | 支持用户自定义 |
| 响应式文本 | 使用相对单位 |

## 焦点指示

### 焦点环规范

```css
/* 推荐焦点样式 */
:focus-visible {
  outline: 2px solid #3B82F6;
  outline-offset: 2px;
}
```

| 要求 | 规范 |
|------|------|
| 可见性 | 与背景对比度 ≥ 3:1 |
| 宽度 | ≥ 2px |
| 偏移 | 2-4px |
| 形状 | 跟随元素形状 |

### 焦点状态

| 状态 | 处理 |
|------|------|
| 默认焦点 | 显示焦点环 |
| 鼠标点击 | 可隐藏（:focus-visible） |
| 键盘导航 | 必须显示 |

## 图像与图标

### 替代文本

| 图像类型 | alt 属性 |
|----------|----------|
| 信息性图像 | 描述内容 |
| 装饰性图像 | alt="" |
| 功能性图像 | 描述功能 |
| 复杂图像 | 简述+详细描述 |

### 图标无障碍

| 类型 | 处理 |
|------|------|
| 装饰图标 | aria-hidden="true" |
| 功能图标 | aria-label 描述 |
| 图标按钮 | 必须有标签 |

## 动画与闪烁

### 限制

| 要求 | 规范 |
|------|------|
| 闪烁频率 | < 3次/秒 |
| 自动播放 | 可暂停/停止 |
| 动画时长 | 可减少或关闭 |

### 减少动画

```css
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
```

## 深色模式

### 对比度保持

| 模式 | 要求 |
|------|------|
| 浅色模式 | 深色文字/浅色背景 |
| 深色模式 | 浅色文字/深色背景 |
| 两种模式 | 均需满足对比度要求 |

### 切换支持

- 跟随系统设置
- 提供手动切换
- 记住用户偏好

## 平台差异

### 网页端
- 支持浏览器缩放
- 响应 prefers-color-scheme
- 响应 prefers-reduced-motion

### 移动端
- 支持系统字号设置
- 支持系统深色模式
- 支持系统粗体文本

### 桌面端
- 支持系统高对比度
- 支持系统缩放
- 支持系统主题

## 最佳实践

### ✅ 推荐
- 设计时检查对比度
- 使用多种方式传达信息
- 测试不同缩放级别
- 支持用户偏好设置

### ❌ 避免
- 仅用颜色区分信息
- 使用过小的文字
- 移除焦点指示
- 忽视深色模式对比度

## 相关规范

- [颜色规范](规范_01_设计基础_颜色规范.md)
- [字体排版](规范_01_设计基础_字体排版.md)

---

[返回主目录](README.md)