# 阴影与层级

## 概述

阴影和层级系统用于表达界面元素的空间关系，创造视觉深度。合理使用阴影能够帮助用户理解元素层次、聚焦注意力、增强交互反馈。

## 设计原则

- **有意义**：阴影表达明确的层级关系
- **一致性**：相同层级使用相同阴影
- **克制使用**：避免过多阴影造成视觉混乱
- **自然感**：模拟自然光源，阴影朝下偏移

## 阴影层级

### 标准阴影

| 层级 | Token | CSS 值 | 用途 |
|------|-------|--------|------|
| **0** | `shadow-none` | none | 无阴影 |
| **1** | `shadow-sm` | `0 1px 2px rgba(0,0,0,0.05)` | 微弱提升 |
| **2** | `shadow` | `0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06)` | 默认卡片 |
| **3** | `shadow-md` | `0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06)` | 悬停状态 |
| **4** | `shadow-lg` | `0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.05)` | 下拉菜单 |
| **5** | `shadow-xl` | `0 20px 25px rgba(0,0,0,0.1), 0 10px 10px rgba(0,0,0,0.04)` | 模态框 |
| **6** | `shadow-2xl` | `0 25px 50px rgba(0,0,0,0.25)` | 最高层级 |
| **内阴影** | `shadow-inner` | `inset 0 2px 4px rgba(0,0,0,0.06)` | 输入框、凹陷 |

### 阴影应用场景

| 组件 | 推荐阴影 | 悬停阴影 |
|------|----------|----------|
| 卡片 | shadow | shadow-md |
| 按钮（主要） | shadow-sm | shadow |
| 下拉菜单 | shadow-lg | - |
| 弹出框（Popover） | shadow-lg | - |
| 模态框 | shadow-xl | - |
| 抽屉 | shadow-xl | - |
| Toast 消息 | shadow-lg | - |

## 层级系统（Z-Index）

### Z-Index 定义

| Token | 值 | 用途 |
|-------|-----|------|
| `z-0` | 0 | 基础层 |
| `z-10` | 10 | 略微提升 |
| `z-20` | 20 | 下拉菜单 |
| `z-30` | 30 | 固定元素 |
| `z-40` | 40 | 抽屉 |
| `z-50` | 50 | 模态框背景 |
| `z-60` | 60 | 模态框内容 |
| `z-70` | 70 | Toast 通知 |
| `z-80` | 80 | Tooltip |
| `z-90` | 90 | 加载遮罩 |
| `z-max` | 9999 | 最高层级 |

### 层级场景应用

```
层级从低到高：
├── z-0    基础内容层（页面主体）
├── z-10   浮动元素（FAB按钮）
├── z-20   下拉菜单、选择器
├── z-30   固定导航、吸顶元素
├── z-40   侧边抽屉
├── z-50   模态框遮罩层
├── z-60   模态框内容
├── z-70   Toast 通知
├── z-80   Tooltip 提示
└── z-90   全局加载遮罩
```

## 遮罩层

### 遮罩样式

| 类型 | 背景色 | 用途 |
|------|--------|------|
| 标准遮罩 | `rgba(0,0,0,0.5)` | 模态框、抽屉 |
| 轻量遮罩 | `rgba(0,0,0,0.3)` | 次要弹窗 |
| 深色遮罩 | `rgba(0,0,0,0.7)` | 聚焦查看器 |
| 模糊遮罩 | `rgba(0,0,0,0.3)` + `blur(4px)` | 高级效果 |

### 遮罩层级

| 场景 | Z-Index |
|------|---------|
| 模态框遮罩 | z-50 |
| 抽屉遮罩 | z-40 |
| 图片查看器遮罩 | z-60 |

## 深色模式适配

### 阴影调整

在深色模式下，阴影效果减弱：

| 元素 | 浅色模式 | 深色模式 |
|------|----------|----------|
| 卡片 | shadow | 边框 + 微弱阴影 |
| 弹窗 | shadow-xl | shadow-lg |
| 按钮 | shadow-sm | 无阴影或微弱 |

### 边框替代

深色模式下可使用边框替代阴影：

```css
/* 深色模式卡片 */
.card-dark {
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}
```

## 平台差异

### 网页端
- 使用 CSS `box-shadow` 实现
- 可使用 `filter: drop-shadow()` 处理非矩形元素
- 考虑性能，避免过多阴影元素

### 移动端
- iOS：参考系统阴影风格
- Android：遵循 Material Design 高度系统
- 简化阴影层级，提升渲染性能

### 桌面端
- 可使用更丰富的阴影层级
- 窗口自带系统阴影
- 注意与系统窗口阴影协调

## 无障碍考虑

- 不要仅依赖阴影区分元素
- 确保边界清晰（可添加边框）
- 高对比度模式下提供替代方案
- 遮罩层需要足够对比度

## 最佳实践

### ✅ 推荐
- 使用统一的阴影 Token
- 层级关系与阴影强度匹配
- 交互反馈时适度增强阴影
- 深色模式适当减弱阴影

### ❌ 避免
- 随意定义阴影值
- 过多使用高层级阴影
- 忽视深色模式适配
- 阴影过于浓重

## 相关规范

- [颜色规范](规范_01_设计基础_颜色规范.md)
- [弹窗与覆盖层](规范_02_组件规范_弹窗与覆盖层.md)
- [容器与卡片](规范_02_组件规范_容器与卡片.md)

---

[返回主目录](README.md)