# 数据输入模式

## 概述

数据输入模式定义了用户向系统提供信息的交互方式。良好的输入设计能够提高效率、减少错误、改善用户体验。

## 设计原则

- **最小化输入**：只收集必要信息
- **智能辅助**：提供自动完成和建议
- **即时验证**：实时反馈输入状态
- **容错设计**：接受多种输入格式

## 表单设计

### 表单结构

```
┌─────────────────────────────────────┐
│  表单标题                           │
│  表单说明文字                        │
├─────────────────────────────────────┤
│  分组标题                           │
│  ┌─────────────────────────────┐   │
│  │ 标签 *                       │   │
│  │ [输入框]                     │   │
│  │ 帮助文本                     │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 标签                         │   │
│  │ [输入框]                     │   │
│  └─────────────────────────────┘   │
├─────────────────────────────────────┤
│              [ 取消 ] [ 提交 ]      │
└─────────────────────────────────────┘
```

### 表单布局

| 布局 | 适用场景 | 标签位置 |
|------|----------|----------|
| 单列 | 移动端、简单表单 | 顶部 |
| 双列 | 桌面端、信息较多 | 顶部/左侧 |
| 内联 | 紧凑空间 | 内部浮动 |

### 字段分组

- 相关字段放在一起
- 使用分组标题
- 分组间距 32px
- 字段间距 16-24px

## 输入优化

### 自动完成

| 场景 | 实现 |
|------|------|
| 地址 | 地址联想 |
| 搜索 | 历史记录+热门 |
| 邮箱 | 域名补全 |
| 标签 | 已有标签建议 |

### 输入掩码

| 类型 | 格式 | 示例 |
|------|------|------|
| 电话 | XXX-XXXX-XXXX | 138-1234-5678 |
| 银行卡 | XXXX XXXX XXXX XXXX | 6222 0000 0000 0000 |
| 日期 | YYYY-MM-DD | 2024-01-15 |
| 金额 | ¥X,XXX.XX | ¥1,234.56 |

### 默认值

- 提供合理默认值
- 使用用户历史数据
- 基于上下文预填充
- 地理位置自动检测

## 验证策略

### 验证时机

| 时机 | 场景 | 优点 | 缺点 |
|------|------|------|------|
| 实时 | 格式验证 | 即时反馈 | 可能打扰 |
| 失焦 | 复杂验证 | 平衡体验 | 延迟反馈 |
| 提交 | 最终验证 | 不打扰 | 反馈延迟 |

### 验证规则

| 类型 | 规则 |
|------|------|
| 必填 | 不能为空 |
| 格式 | 邮箱、电话、URL |
| 长度 | 最小/最大字符数 |
| 范围 | 数值范围 |
| 匹配 | 密码确认 |
| 唯一 | 用户名不重复 |

### 错误提示

- 位置：输入框下方
- 颜色：Error-500
- 内容：说明问题+解决方法
- 时机：验证失败时立即显示

## 特殊输入

### 密码输入

- 显示/隐藏切换
- 强度指示器
- 规则提示
- 确认密码

### 文件上传

| 元素 | 规范 |
|------|------|
| 拖拽区域 | 虚线边框，可点击 |
| 文件预览 | 缩略图或图标 |
| 进度显示 | 进度条 |
| 错误处理 | 格式/大小限制 |

### 富文本编辑

- 工具栏简洁
- 支持快捷键
- 实时预览
- 自动保存

## 移动端优化

### 键盘类型

| 输入类型 | 键盘 |
|----------|------|
| 文本 | 默认键盘 |
| 邮箱 | 带 @ 键盘 |
| 电话 | 数字键盘 |
| 数字 | 数字键盘 |
| URL | 带 .com 键盘 |

### 触控优化

- 输入框高度 ≥ 44px
- 点击标签聚焦输入框
- 自动滚动到可见区域
- 避免键盘遮挡

## 平台差异

### 网页端
- 支持自动填充
- Tab 键切换字段
- 回车提交表单
- 拖拽上传文件

### 移动端
- 适配虚拟键盘
- 使用原生选择器
- 简化表单步骤
- 支持扫码输入

### 桌面端
- 快捷键支持
- 右键粘贴
- 拖拽操作
- 多字段同时编辑

## 无障碍考虑

- 标签关联输入框
- 错误信息可读
- 键盘可操作
- 焦点顺序合理
- 必填字段标注

## 最佳实践

### ✅ 推荐
- 减少必填字段
- 提供输入示例
- 支持多种格式
- 保存草稿

### ❌ 避免
- 不必要的字段
- 模糊的标签
- 只在提交时验证
- 清空已填内容

## 相关规范

- [表单元素](规范_02_组件规范_表单元素.md)
- [错误处理](规范_03_交互模式_错误处理.md)

---

[返回主目录](README.md)