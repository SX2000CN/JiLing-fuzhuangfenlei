# 反馈组件

## 概述

反馈组件用于向用户传达系统状态、操作结果或重要信息。及时、清晰的反馈能够增强用户信心，改善体验。

## 设计原则

- **及时性**：操作后立即反馈
- **清晰性**：信息简洁明确
- **适度性**：避免过度打扰
- **可操作**：提供后续操作指引

## 消息提示（Toast/Message）

### 定位

| 位置 | 适用场景 |
|------|----------|
| 顶部居中 | 通用，最常用 |
| 右上角 | 通知类消息 |
| 底部居中 | 移动端常用 |

### 尺寸

| 元素 | 规范 |
|------|------|
| 最小宽度 | 280px |
| 最大宽度 | 500px |
| 内边距 | 12px 16px |
| 图标 | 20px |
| 圆角 | 8px |

### 类型

| 类型 | 图标 | 背景色 | 用途 |
|------|------|--------|------|
| 信息 | ℹ️ | Info-50 | 一般提示 |
| 成功 | ✓ | Success-50 | 操作成功 |
| 警告 | ⚠️ | Warning-50 | 注意事项 |
| 错误 | ✕ | Error-50 | 操作失败 |

### 行为

| 参数 | 值 |
|------|-----|
| 默认时长 | 3秒 |
| 可手动关闭 | 是 |
| 最大数量 | 3条 |
| 动画 | 淡入滑下 |

## 警告框（Alert）

### 用途

内嵌在页面中的持久性提示信息。

### 结构

```
┌─────────────────────────────────────────┐
│ ⚠️  警告标题                        ✕   │
│     这是警告的详细描述信息...           │
│                        [ 了解更多 ]     │
└─────────────────────────────────────────┘
```

### 类型

| 类型 | 边框色 | 背景色 | 图标色 |
|------|--------|--------|--------|
| 信息 | Info-200 | Info-50 | Info-500 |
| 成功 | Success-200 | Success-50 | Success-500 |
| 警告 | Warning-200 | Warning-50 | Warning-500 |
| 错误 | Error-200 | Error-50 | Error-500 |

## 加载指示器（Loading）

### 类型

| 类型 | 用途 | 场景 |
|------|------|------|
| 旋转器（Spinner） | 加载中 | 按钮、小区域 |
| 进度条 | 明确进度 | 上传、下载 |
| 骨架屏 | 内容占位 | 页面加载 |
| 脉冲点 | 加载中 | 聊天等待 |

### 旋转器尺寸

| 尺寸 | 像素 | 用途 |
|------|------|------|
| sm | 16px | 按钮内 |
| md | 24px | 标准 |
| lg | 32px | 卡片内 |
| xl | 48px | 页面级 |

### 全屏加载

| 元素 | 规范 |
|------|------|
| 遮罩 | rgba(255,255,255,0.8) |
| 指示器 | 48px |
| 提示文字 | 14px，可选 |
| z-index | z-90 |

## 骨架屏（Skeleton）

### 元素类型

| 类型 | 形状 | 用途 |
|------|------|------|
| 文本 | 圆角矩形 | 文字占位 |
| 圆形 | 圆形 | 头像占位 |
| 矩形 | 矩形 | 图片占位 |
| 按钮 | 圆角矩形 | 按钮占位 |

### 动画

- 类型：光泽扫过（shimmer）
- 颜色：Gray-200 → Gray-100 → Gray-200
- 周期：1.5-2秒

## 进度指示（Progress）

### 线性进度条

| 状态 | 颜色 |
|------|------|
| 进行中 | Primary-500 |
| 成功 | Success-500 |
| 错误 | Error-500 |

### 环形进度

| 尺寸 | 直径 | 线宽 |
|------|------|------|
| sm | 32px | 3px |
| md | 48px | 4px |
| lg | 64px | 5px |

## 徽标数（Badge）

### 用途

显示未读数量或状态标记。

### 类型

| 类型 | 内容 | 尺寸 |
|------|------|------|
| 数字 | 1-99 | 高度 18-20px |
| 99+ | 超过99 | 自适应宽度 |
| 点状 | 无数字 | 8-10px |

### 位置

通常置于图标或头像的右上角：
- 偏移：右侧 -4px，上方 -4px
- 颜色：Error-500 背景，白色文字

## 确认对话框

### 用途

需要用户确认的重要操作。

### 结构

```
┌────────────────────────────────────┐
│  确认删除                      ✕   │
├────────────────────────────────────┤
│                                    │
│  确定要删除这个项目吗？            │
│  删除后将无法恢复。                │
│                                    │
├────────────────────────────────────┤
│               [ 取消 ] [ 删除 ]    │
└────────────────────────────────────┘
```

### 按钮顺序

| 场景 | 顺序 |
|------|------|
| 确认 | 取消（左）、确认（右） |
| 危险操作 | 取消（左）、删除（右，danger） |

## 平台差异

### 网页端
- Toast 位于顶部
- 支持多条消息堆叠
- 骨架屏广泛使用

### 移动端
- Toast 位于底部
- 使用系统原生对话框
- 加载时考虑触觉反馈
- 避免遮挡关键内容

### 桌面端
- 可使用系统通知
- 支持通知中心
- 进度可在任务栏显示

## 无障碍考虑

- Toast 使用 `role="alert"` 或 `role="status"`
- 加载状态使用 `aria-busy="true"`
- 进度条使用 `aria-valuenow`
- 自动消失的消息留足阅读时间
- 不要仅依赖颜色传达信息

## 最佳实践

### ✅ 推荐
- 成功操作给予正面反馈
- 耗时操作显示进度
- 错误信息说明原因和解决方法
- 适度使用动画增强反馈

### ❌ 避免
- 过多弹窗打扰用户
- 重要信息使用自动消失提示
- 无反馈的长时间等待
- 模糊的错误信息

## 相关规范

- [错误处理](规范_03_交互模式_错误处理.md)
- [加载与状态](规范_03_交互模式_加载与状态.md)
- [弹窗与覆盖层](规范_02_组件规范_弹窗与覆盖层.md)

---

[返回主目录](README.md)